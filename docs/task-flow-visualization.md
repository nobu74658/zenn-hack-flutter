# タスクフロー可視化ドキュメント

## 📋 概要

このドキュメントでは、GitHubのissuesに基づいて **英単語暗記専用Flutterアプリ** の開発タスクフローを可視化し、プロジェクトの全体像と進捗管理を提供します。

## 🎯 プロジェクト概要

### アプリケーション仕様
- **目的**: 英単語暗記学習に特化したモバイルアプリ
- **設計思想**: 読み取り専用（データ更新・編集なし）
- **UI/UX**: Tinder風スワイプインターフェース
- **対象**: 語学学習者向けの継続学習支援

### 技術スタック
- **フレームワーク**: Flutter (v3.29.3)
- **アーキテクチャ**: Clean Architecture
- **状態管理**: Riverpod
- **UI設計**: Material 3 + Webテーマ統合
- **データ取得**: REST API (読み取り専用)
- **キャッシュ**: SharedPreferences + Hive

## 📊 開発フェーズ構成

### Phase 1: 基盤構築 ✅ (完了済み)
Clean Architecture実装、基本的なRiverpod設定、データモデル・Repository層構築

### Phase 2: アプリケーション基盤 (Issues #1-4)

#### Issue #1: 🏗️ アプリケーション全体セットアップ
**期間**: 2-3日 | **優先度**: High

**実装内容**:
- `main.dart`のProvider統合リファクタリング
- `ProviderScope`でアプリケーション全体をラップ
- 環境別エントリーポイント（Development/Production）
- go_routerベースのルーティングシステム
- Material 3テーマ設定とカラーパレット適用

**完了条件**:
- アプリケーションが正常に起動する
- Riverpodプロバイダーが適切に初期化される
- 基本的な画面遷移が動作する

#### Issue #2: 🔐 認証画面UI実装
**期間**: 3-4日 | **優先度**: High | **依存**: Issue #1

**実装内容**:
- Material 3デザインでのログイン・サインアップ画面
- フォームバリデーションとリアルタイムフィードバック
- `AuthNotifier`での認証状態管理
- セッション維持とアプリ再起動時の状態復元

#### Issue #3: 🧩 共通UIコンポーネント実装
**期間**: 3-4日 | **優先度**: High | **依存**: Issue #1

**実装内容**:
- AppButton, AppTextField, AppCard等の基本コンポーネント
- Material 3デザインガイドライン準拠
- ダークモード・アクセシビリティ対応
- 再利用可能なレイアウトコンポーネント

#### Issue #4: 🚨 エラーハンドリングUI実装
**期間**: 2-3日 | **優先度**: High | **依存**: Issue #3

**実装内容**:
- AppErrorWidget, AppSnackBar, AppDialog等
- グローバルエラーハンドリング設定
- ネットワーク状態監視・オフライン時UI対応
- Result Pattern Enhancement

### Phase 3: コア機能実装 (Issues #5-7)

#### Issue #5: スワイプ学習画面実装
**期間**: 4-5日 | **優先度**: High | **依存**: Phase 2完了

**実装内容**:
- Tinder/Tapple風カードスタック表示（最大3-5枚）
- 左右スワイプジェスチャー（覚えた/覚えていない）
- スムーズなアニメーション（60fps保証）
- ハプティックフィードバック・視覚フィードバック

**技術要件**:
- カードサイズ：画面の85% × 70%
- アニメーション：300ms以内、Curves.easeOutCubic
- プリロード：次の5枚のカードを事前読み込み

#### Issue #6: フラッシュカード一覧表示画面実装
**期間**: 3-4日 | **優先度**: Medium | **依存**: Issue #5

**実装内容**:
- グリッド表示（2列）とリスト表示の切り替え
- 検索・フィルタ機能（英単語・意味・品詞別・学習状態別）
- ソート機能（アルファベット順・追加日順・学習状態順）
- 仮想スクロールによるパフォーマンス最適化

#### Issue #7: 📱 カード詳細表示画面実装
**期間**: 3-4日 | **優先度**: Medium | **依存**: Issue #6

**実装内容**:
- 単語・発音・品詞・複数意味の詳細表示
- AI生成画像のギャラリー表示（スワイプ・拡大）
- メモ内容表示（読み取り専用）
- 学習状態表示（checkFlag等）

### Phase 4: 統計・最適化 (Issues #8-10)

#### Issue #8: 学習統計表示画面実装
**期間**: 2-3日 | **優先度**: Medium | **依存**: Phase 3完了

**実装内容**:
- 総カード数・学習済み数・未学習数の統計
- 品詞別統計（カラーチャート）
- 学習履歴（日別・週別・月別）
- 円グラフ・棒グラフ・線グラフでの可視化

#### Issue #9: パフォーマンス最適化
**期間**: 3-4日 | **優先度**: High | **依存**: Issue #8

**実装内容**:
- アプリ起動時間：3秒以内
- 画面遷移：300ms以内（60fps維持）
- スワイプレスポンス：16ms以内
- メモリ使用量：100MB以下
- APKサイズ：50MB以下

#### Issue #10: 🧪 テスト実装・品質向上
**期間**: 4-5日 | **優先度**: High | **依存**: Issue #9

**実装内容**:
- Unit Tests：データモデル・Repository・Service層
- Widget Tests：画面・コンポーネント・ナビゲーション
- Integration Tests：E2E・API連携・パフォーマンス
- テストカバレッジ85%達成

### Phase 5: 高度な機能 (Issues #11-13)

#### Issue #11: Tinder/Tapple風スワイプカード実装
**期間**: 4-5日 | **優先度**: Medium | **依存**: Phase 4完了

**実装内容**:
- 高精度ジェスチャー検出（PanGestureRecognizer）
- Custom Physics Engine（スプリング・ダンピング）
- マルチタッチ対応（ピンチ・回転ジェスチャー）
- 4方向スワイプ（左右上下）のカスタムアクション

#### Issue #12: モバイル最適化UI設計
**期間**: 3-4日 | **優先度**: Medium | **依存**: Issue #11

**実装内容**:
- iPhone SE〜iPad Proまでの画面サイズ対応
- セーフエリア・ノッチ・Dynamic Island対応
- 片手操作対応（Thumb Zone考慮）
- iOS/Android固有のデザイン適用

#### Issue #13: オフライン対応強化
**期間**: 3-4日 | **優先度**: Medium | **依存**: Issue #12

**実装内容**:
- 多層キャッシュシステム（メモリ・SharedPreferences・Hive）
- 完全オフライン学習機能
- バックグラウンド同期・差分更新
- 画像キャッシュ・プリロード戦略

## 🔄 依存関係マップ

```
Phase 1 (基盤構築) ✅
    ↓
Phase 2 (アプリ基盤)
    Issue #1 (セットアップ) 
        ↓
    Issue #2 (認証UI) + Issue #3 (共通UI)
        ↓
    Issue #4 (エラーハンドリング)
        ↓
Phase 3 (コア機能)
    Issue #5 (スワイプ学習)
        ↓
    Issue #6 (カード一覧)
        ↓
    Issue #7 (カード詳細)
        ↓
Phase 4 (統計・最適化)
    Issue #8 (統計画面)
        ↓
    Issue #9 (パフォーマンス)
        ↓
    Issue #10 (テスト)
        ↓
Phase 5 (高度機能)
    Issue #11 (高度アニメーション)
        ↓
    Issue #12 (モバイル最適化)
        ↓
    Issue #13 (オフライン対応)
        ↓
    リリース準備
```

## 📱 主要機能仕様

### 読み取り専用設計
- **方針**: データの更新・編集・削除機能は一切なし
- **範囲**: 表示・閲覧・学習操作のみ
- **利点**: シンプルな設計、高いパフォーマンス、オフライン対応容易

### Tinder風UI特徴
- **カードスタック**: 最大5枚の重ね表示
- **スワイプ操作**: 左（覚えていない）右（覚えた）上（スキップ）下（詳細）
- **アニメーション**: 60fps、300ms以内の応答
- **フィードバック**: ハプティック振動 + 視覚的色変化

### モバイル最適化
- **画面対応**: iPhone SE 〜 iPad Pro
- **操作性**: 片手操作・親指操作領域考慮
- **パフォーマンス**: 起動3秒以内、遷移300ms以内
- **オフライン**: 完全オフライン学習対応

## 📊 開発スケジュール概算

| Phase | 期間 | 内容 | 依存関係 |
|-------|------|------|----------|
| Phase 1 | ✅ 完了 | 基盤構築 | - |
| Phase 2 | 8-10日 | アプリ基盤 | Phase 1 |
| Phase 3 | 10-12日 | コア機能 | Phase 2 |
| Phase 4 | 9-12日 | 統計・最適化 | Phase 3 |
| Phase 5 | 10-13日 | 高度機能 | Phase 4 |
| **総計** | **37-47日** | **全機能** | - |

## 🎯 現在の開発状況

### ✅ 完了済み
- Phase 1: Clean Architecture基盤構築
- 基本的なデータモデル・Repository層
- Riverpod基本設定

### 🔄 進行中
- Phase 2: アプリケーション基盤
- 次のタスク: Issue #1 (ProviderScope & Navigation)

### 📋 今後の予定
1. **短期** (1-2週間): Phase 2完了 (基盤UI実装)
2. **中期** (3-4週間): Phase 3完了 (コア学習機能)
3. **長期** (5-7週間): Phase 4-5完了 (最適化・高度機能)

## 🔗 関連ドキュメント

- [プロジェクト概要](/README.md)
- [アーキテクチャ設計](/docs/architecture.md)
- [API設計書](/docs/api-design.md)
- [UI/UXガイドライン](/docs/ui-design.md)

---

**最終更新**: 2025-06-22  
**ステータス**: Phase 2 進行中  
**次のマイルストーン**: Issue #1 完了 (ProviderScope & Navigation)